{% extends "components/base.html" %}
{% import "components/article.html" as article %}
{% import "components/full_header.html" as header %}
{% import "components/panels.html" as panels %}
{% import "components/footer.html" as footer %}

{% macro add_link(links, new_link) %}
  {% if new_link %}
    {% do links.insert(0, (new_link.name, "#" ~ new_link.id))%}
  {% endif %}
{% endmacro %}

{% block content %}
  <link rel="stylesheet" href="/static/css/pages/home.css" type="text/css">

<!--  additional_links, move to Python? -->
  {% do add_link(additional_links, collection) %}
  {% do add_link(additional_links, preview) %}
  {% do add_link(additional_links, feature) %}

  {{ header.render(links) }}
  {{ article.render(feature) if feature }}
  {{ panels.render(previews) if previews }}
  {{ article.render(collection) if collection }}
  {{ footer.render() if footer}}

{% endblock %}